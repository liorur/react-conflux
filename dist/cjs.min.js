"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var React=require("react"),React__default=_interopDefault(React);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)}return r}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(r,!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,t){var r=[],o=!0,n=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(e){n=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(n)throw i}}return r}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var Store=function(){function t(e){_classCallCheck(this,t),_defineProperty(this,"internalState",void 0),_defineProperty(this,"initialState",{}),_defineProperty(this,"dispatch",void 0),this.initialState=e}return _createClass(t,[{key:"initialSetState",value:function(e){this.initialState=_objectSpread2({},this.initialState,{},e)}},{key:"setState",value:function(e){this.dispatch&&this.dispatch(e),this.initialSetState(e)}},{key:"reducer",value:function(e,t){return _objectSpread2({},e,{},t)}},{key:"setReducerState",value:function(e){this.internalState=e}},{key:"setDispatch",value:function(e){this.dispatch=e,this.setState(this.initialState)}},{key:"state",get:function(){return this.internalState||this.initialState}}]),t}();function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(e,t,r,o,n,i){if(i!==ReactPropTypesSecret_1){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}var r={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return r.PropTypes=r},propTypes=createCommonjsModule(function(e){e.exports=factoryWithThrowingShims()}),StoreProvider=function(e){var t=e.store,r=e.context,o=e.children,n=_slicedToArray(React.useReducer(t.reducer,t.initialState),2),i=n[0],a=n[1],s=_slicedToArray(React.useMemo(function(){return[i,a]},[i]),1)[0];return t.setReducerState(s),React.useLayoutEffect(function(){t.setDispatch(a)},[]),React__default.createElement(r.Provider,{value:[s,t]},o)};StoreProvider.propTypes={store:propTypes.object.isRequired,context:propTypes.object.isRequired,children:propTypes.oneOfType([propTypes.element,propTypes.array]).isRequired};var defaultStoreName="appStore",userStores={},userContexts={},StoresProvider=function(e){var t=e.stores,r=e.children;if(t instanceof Store?userStores[defaultStoreName]=t:t instanceof Object&&Object.keys(t).forEach(function(e){t[e]instanceof Store&&(userStores[e]=t[e])}),0===Object.keys(userStores).length)throw new Error("The stores prop must be a Store or an object with store names ans keys and Stores as values.");if(void 0===r||"object"!==_typeof(r)||!Object.keys(r).length)throw new Error("StoresProvider must contain children components. You probably forgot to wrap it around your components in your JSX.");var o=r;return Object.keys(userStores).forEach(function(e){var t=userStores[e],r=React.createContext({});userContexts[e]=r,o=React__default.createElement(StoreProvider,{store:t,context:r},o)}),o};StoresProvider.propTypes={stores:propTypes.object.isRequired,children:propTypes.oneOfType([propTypes.element,propTypes.array]).isRequired};var useStore=function(e){return e?React.useContext(userContexts[e]):React.useContext(userContexts[defaultStoreName])};exports.Store=Store,exports.StoresProvider=StoresProvider,exports.useStore=useStore;
